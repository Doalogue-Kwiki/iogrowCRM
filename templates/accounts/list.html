<div  class="page-content">

   <!-- BEGIN SAMPLE PORTLET CONFIGURATION MODAL FORM-->
      <div id="portlet-config" class="modal hide">
        <div class="modal-header">
          <button data-dismiss="modal" class="close" type="button"></button>
          <h3>{{ _("Portlet Settings") }}</h3>
        </div>
        <div class="modal-body">
          <p>{{ _("Here will be a configuration form") }}</p>
        </div>
      </div>
      <!-- END SAMPLE PORTLET CONFIGURATION MODAL FORM-->
      <!-- BEGIN PAGE CONTAINER-->
      <div ng-show="immediateFailed">
         <div class="col-md-12">  
          <h1>{{ _("Sign-in Button;") }}</h1>
              <span id="signin">
                  <span id="myGsignin"></span>
              </span>
        </div>
      </div>
      <div id="addAccountModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                        <h3 id="myModalLabel">{{_("New Account")}}</h3>
                    </div>
                    <div class="modal-body">
                       <form id="addAccount" name="addaccount"  class=""  ng-keyup="addAccountOnKey(account)"> 
                              
                  
                    

                    <div class="form-group">
                        <label  class="required">{{_("Name")}}</label>
                       
                        
                          <input type="text" class="form-control" required  ng-model="account.name">
                          
                       
                    </div>
                    <div class="form-group">
                        <label  class="required">{{_("Type")}}</label>
                       
                       
                         
                          <select value="Customer" ng-model="account.account_type" class="form-control"> 
                         <option value="Competitor">Competitor</option><option value="Customer">Customer</option><option value="Distributor">Distributor</option><option value="Integrator">Integrator</option><option value="Investor">Investor</option><option value="Partner">Partner</option><option value="Press">Press</option><option value="Prospect">Prospect</option><option value="Reseller">Reseller</option><option value="Supplier">Supplier</option><option value="Vendor">Vendor</option><option value="Other">Other</option></select>
                          
                       
                    </div>
                    <div class="form-group">
                        <label  class="required control-label">{{_("Industry")}} </label>
                       
                       
                         
                          <select ng-model="account.industry" class="form-control">
                          <option value="">--None--</option><option value="Agriculture">Agriculture</option><option value="Apparel">Apparel</option><option value="Banking">Banking</option><option value="Biotechnology">Biotechnology</option><option value="Chemicals">Chemicals</option><option value="Communications">Communications</option><option value="Construction">Construction</option><option value="Consulting">Consulting</option><option value="Education">Education</option><option value="Electronics">Electronics</option><option value="Energy">Energy</option><option value="Engineering">Engineering</option><option value="Entertainment">Entertainment</option><option value="Environmental">Environmental</option><option value="Finance">Finance</option><option value="Food &amp; Beverage">Food &amp; Beverage</option><option value="Government">Government</option><option value="Healthcare">Healthcare</option><option value="Hospitality">Hospitality</option><option value="Insurance">Insurance</option><option value="Machinery">Machinery</option><option value="Manufacturing">Manufacturing</option><option value="Media">Media</option><option value="Not For Profit">Not For Profit</option><option value="Recreation">Recreation</option><option value="Retail">Retail</option><option value="Shipping">Shipping</option><option value="Technology">Technology</option><option value="Telecommunications">Telecommunications</option><option value="Transportation">Transportation</option><option value="Utilities">Utilities</option><option value="Other">Other</option></select>
                          
                        
                    </div>
                    <hr/>
                    <p> {{ _('Who can access?') }}</p>
                  <div class="form-group">
                     <div class="radio-list">
                         
                            <label >
                            <input type="radio" name="optionsRadios" value="public" ng-model="account.access" checked />
                             {{ _('public: Anyone within your organization') }}
                            </label>
                            <label >
                            <input type="radio" name="optionsRadios" value="private" ng-model="account.access" />
                            {{ _('private: only you and your collaborators') }}
                            </label>  
                           
                       
                      
                    </div>
                  </div>                               
                    </div>
                    <div class="modal-footer">
                       <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>
                
                      <input ng-hide="isLoading" ng-click="save(account)" type="submit" class="btn green" value="{{ _('Add this account') }}">
                      <input ng-show="isLoading" type="submit" class="btn green" value="{{ _('Loading...') }}" disabled>                      
                    
                    </div>
                    </form>
                  </div>
                  <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
     </div>
      
      <div ng-show="isSignedIn">
        
        <!-- END PAGE HEADER-->
        <!-- BEGIN PAGE CONTENT-->
          <div class="row ">
            <div class="col-md-12"><h2 class="page-title">{{ _("Accounts") }} </h2></div>
          </div>
        <div class="row "  >
            
          <div class="col-md-2">

          
            
                    <button  ng-click="showModal()" id="sample_editable_1_new" class="btn red">
                    {{ _("New Account") }} <i class="icon-plus"></i>
                    </button>
               
            
            
          </div>
          <div class="col-md-2" ng-show="accounts+isFiltering">
          
            
            
                     <div class="btn-group btn-filter">
                      <a class="btn btn-default" href="#" data-toggle="dropdown">
                        {{ _('Filter by') }}
                      <i class="icon-angle-down"></i>
                      </a>
                      <ul class="dropdown-menu">
                        <li><a  ng-click="filterByOwner()" href="#" data-toggle="modal">{{ _('All accounts') }}</a></li>
                        <li><a ng-click="filterByOwner('{{ME}}')" href="#" data-toggle="modal">{{ _('My accounts') }}</a></li>
                      </ul>
              </div>
               
            
            
          </div>
          <div class="col-md-5" ng-show="accounts+isFiltering">
               
                    <form class=" ng-pristine ng-valid" ng-submit="executeSearch(searchQuery)">
                      <div class="input-group">
                        <input type="text" ng-model="searchQuery" typeahead="result as result.name  for result in results | filter:$viewValue | limitTo:8" typeahead-on-select="selectResult()" class="form-control" placeholder="{{ _('Quick Filtering') }}">
                        <span class="input-group-btn">
                          <button class="gbqfb gbqfb-hvr" type="button"><i class="icon-filter"></i></button>
                        </span>
                      </div>
                     
                    </form>
                 
            </div>
            <div class="col-md-2" ng-show="accounts+isFiltering">
              <div class="btn-group btn-sort">
                    <a class="btn btn-default" href="#" data-toggle="dropdown">
                    {{ _('Sort by') }}
                    <i class="icon-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                      <li><a  ng-click="orderBy('-updated_at')" href="#" data-toggle="modal">{{ _('Last modified') }}</a></li>
                      <li><a ng-click="orderBy('name')" href="#" data-toggle="modal">{{ _('Name') }}</a></li>
                      
                     
                    </ul>
              </div>

            </div>
        </div>
        <hr/>
        
            <div class="row cards-container">

            <div class="col-md-9">
             <div class="inner-cards-container">
                <div droppable  ng-repeat="account in accounts" data-column="<%=getPosition($index)%>" class="cardElement" ng-drop="dropTag(account)">
                    <div class="cardHeader">
                          <a href="/#/accounts/show/<%= account.id %>">
                              <h2 class="cardTitle">
                                <%= account .name %>
                              </h2>
                          </a>  
                    </div>
                    <hr>
                    <div class="cardDetails">
                      <div class="desc">
                        <div class="row margin-bottom-5">
                          <div class="col-md-12"><a ng-show="account.industry" class="desc" href="/#/search/type:Account <%=account.industry%>">#<%=account.industry%></a>
                          </div>
                          
                        </div>
                      </div>
                      <br>
                      <div class="row cardTags">
                        <div class="col-md-12">
                             <a ng-repeat="tag in account.tags" href="/#/search/type:Account tags:<%=tag.id%>"> <span class="pull-right task-label task-tag badge ng-scope ng-binding" style="background-color: <%=tag.color%>;color:<%=idealTextColor(tag.color)%>;">  <%= tag.name %></span>
                             </a>
                        </div>
                      </div>
                    </div>
                </div>
                <script type="text/javascript">
                    $('.inner-cards-container').waterfall({ 
                      colMinWidth: 200, 
                      defaultContainerWidth: 800,
                      autoresize: true
                    })
                </script>
              <div ng-show="blankStateaccount" class="col-md-12 responsive" data-tablet="span6" data-desktop="span12">
                <div class="dashboard-stat cards">
                  
                  
                  <div class="blank_slate_arrow"></div>
                  <div class="thumbnail blank_slate_body">
                      <img class="img-responsive" src="/static/img/accounts_blank.png">
                      <p class="lead">{{ _('Accounts  pages includes a detailed page for each customer, partner, or investor in your ecosystem. You and your co-workers can collaborate to get a deep understanding.') }}</p>
                  </div>
               
                                  
                </div>
              </div>
              <div ng-show="isFiltering * !accounts" data-span="3" class="col-md-12 responsive" data-tablet="span6" data-desktop="span12">
                <div class="dashboard-stat cards" >
                  
                  
                  <div class="blank_slate_arrow"></div>
                  <div class="thumbnail blank_slate_body">
                      
                      <p class="lead">{{ _('No results found, try with another filter') }}</p>
                  </div>
               
                                  
                </div>
              </div>
              <div class="clearfix"></div>
              
              </div><!--/inner-cards-container-->
               <div class="row">
          <div class="col-md-12">
              <div class="pagination pull-right" ng-hide="isLoading">
                  
                 
                   <button ng-click="listPrevPageItems()" id="sample_editable_1_new" class="btn" ng-show="pagination.prev">
                    {{_("Prev")}} 
                    </button>
                    <li ng-repeat="page in pagination.pages" ng-class='{active: page.isCurrent}'><a  href="#/accounts/"><%= page.id %></a></li>
                   <button ng-click="listNextPageItems()"  class="btn"  ng-show="pagination.next">
                    {{_("Next")}} 
                    </button>
                
              
                </div>
                <h3 class="pagination pull-right" ng-show="isLoading">{{ _('Loading') }}...</h3>
          </div>
          
          </div>
              </div>
            <script type="text/javascript">
              $('#slimtest1').slimScroll({
                    height: '20px'
                });
          </script>
            <div class="col-md-3">
              <div class="portlet">
                <div class="portlet-title">
                  <div class="caption">
                    <!-- class="fa fa-reorder"--><i></i>Labels
                  </div>
                </div>
                <div class="portlet-body">
                <ul class="list-group tags-list">
                  <li ng-repeat="tag_item in tags" class="list-group-item tags-list-item" ng-click="selectTag(tag_item,$index,$event)" ng-drag="dragTag(tag_item)" >
                  <div class="row">
                    <!--div class="tag-color" style="border-left: 4px solid <%=tag_item.color%>;">
                    </div-->
                    <span draggable class="with-color" ng-dblclick="editTag(tag_item)" ng-show="(tag_item!=edited_tag)||(!manage_tags)" style="background-color:<%=tag_item.color%>;color:<%=idealTextColor(tag_item.color)%>;"><%= tag_item.name %></span>
                    <form ng-submit="doneEditTag(tag_item)" ng-show="(tag_item==edited_tag)&&(manage_tags)">
                      <input ng-blur="doneEditTag(tag_item)" type="text" class="col-md-offset-1 col-md-7 form-control inlineEditTag " ng-model="tag_item.name">
                    </form>
                    <button ng-click="deleteTag(tag_item)" class="close_tag close pull-right" ng-show="manage_tags"></button>
                  </li>
                  </div>
                </ul>
                
                <form class="well" role="form">
                <div class="row">
                  <div class="col-md-12 form-group">
                    <input type="text" ng-model="tag.name" class="form-control" id="tag_name" placeholder="New Label">
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                       <input id="tag-col-pick" type="text" class="colorpicker-default form-control" value="#8fff00">
                  </div>
                  <div class="col-md-6">
                    <input type="submit" ng-hide="isLoadingTask" ng-click="addNewtag(tag)" class="btn green pull-right" value="Add">
                    <input type="submit" ng-show="isLoadingTask" class="btn green pull-right" value="{{ _('Loading...') }}">
                  </div>
                  </div>
                </form>
                <div class="form-group" ng-show="tags">
                  <button class="btn btn-default btn-block" ng-click="manage_tags=!manage_tags;manage()"> Manage Tags</button>
                </div>
                  
                </div>
              </div>
            </div>
         
            
          
        
        <!-- END PAGE CONTENT-->
      </div>
      <!-- END PAGE CONTAINER--> 
</div>
<script type="text/javascript">
  $("#select2_sample2").select2({
        placeholder: "Click to Select a label",
        allowClear: false
    });
  var handleUniform = function () {
        if (!jQuery().uniform) {
            return;
        }
        var test = $("input[type=radio]:not(.toggle, .star)");
        if (test.size() > 0) {
            test.each(function () {
                if ($(this).parents(".checker").size() == 0) {
                    $(this).show();
                    $(this).uniform();
                }
            });
        }
    }
    handleUniform();
</script>
