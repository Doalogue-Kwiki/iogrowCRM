<div class="row subHeader">
    <div class="currentApp">
       <div class="btn-group">
           <a class="filterItem" href="#" data-toggle="dropdown" >
            {{active_app.label}}
            <i class="icon-angle-down"></i>
           </a>
           <ul class="dropdown-menu">
            {%for application in apps %}

                  <li><a href="/apps/{{ application.key.id() }}" data-toggle="modal">{{application.label}}</a></li>

            {%endfor%}
           </ul>
        </div>
    </div>
   <div class=" subHeaderContent">
             <div class="pull-right sharebuttonDiv">

                 <a ng-click="showConvertModal()" class="btn blue jfk-button jfk-button-action" data-toggle="modal">
                          <i class="icon-refresh"></i> {{_("Convert")}}
                   </a>

                   <a href="#sharingSettingsModal" class="btn blue jfk-button jfk-button-action" data-toggle="modal">
                    <i class="icon-lock"></i> Share
                  </a>
            </div>
                  <h2 class="page-title">
            <a href="/#/leads" data-toggle="tooltip" data-placement="bottom" title="Back to Leads">
            <img onload="this.__gwtLastUnhandledEvent=&quot;load&quot;;" src="https://admin.google.com/a/cpanel/gwt/cpanelnew/resources/clear.cache.gif" style="width: 21px; height: 21px; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAP0lEQVR42mNgGAXDApRT28AGIP5PCwP/08LA/9QKw/9kYLyggxaGYjMYHyApiBpoYSixSYqsyGwYzf+jgDQAAJylMNOnx10yAAAAAElFTkSuQmCC); background-position: 0px 0px; background-repeat: no-repeat no-repeat;" border="0" class="gwt-Image GI4HA0EPK cbarOpacity" aria-hidden="false"></a>     {{_("Leads")}} > <a editable-text="lead.firstname" onbeforesave="inlinePatch('Lead','', 'firstname',lead.entityKey,$data)"> <%= lead.firstname %>  </a> <a editable-text="lead.lastname" onbeforesave="inlinePatch('Lead','', 'lastname',lead.entityKey,$data)" > <%= lead.lastname %> </a></h2>
  </div>
</div>
<div  class="page-content">
  <div class="loader-container row" ng-show="isLoading">
    <div class="loader-dialog col-md-4 col-md-offset-4 ">
      <div class="loader-content">
        Loading...
      </div>
    </div>
  </div>
  <div class="container" ng-show="immediateFailed">
    <div class="col-md-12">

      <span id="signin">
        <span id="myGsignin"></span>
      </span>
    </div>
  </div>
  <div ng-show="isContentLoaded" class="row">
    <div class="col-md-9">
      <div class="row">
        <div class="showPage custom-show margin-bottom-15  col-md-12">
          <div class="row margin-bottom-10">
            <div class="col-md-2" ng-mouseenter="showUpload= true" ng-mouseleave="showUpload = false">
              <div class="pic">
                  <img alt="<%= lead.firstname %> <%= lead.lastname %>" class="img-responsive profile-photo-large" ng-src="<%=imageSrc%>">
                  <a ng-show="showUpload" ng-click="createLogoPickerUploader()" href="" class="btn btn-default btn-upload btn-upload-contact" data-toggle="modal" style="display: none;">
                    <img src="/static/img/upload_logo.png">
                  </a>
              </div>

            </div>
            <div class="col-md-10">
              <div class="row">
                <div class="col-md-12">
                  <span class="page-meta pull-right">
                    <i class="icon-pencil">
                      <a ng-click="editLead()" class="btn-link addAnotherPhone" data-toggle="modal">
                        Edit
                      </a>
                    </i>
                     |
                    <i class="icon-trash">
                      <a ng-click="editbeforedelete()" class="btn-link addAnotherPhone">  Delete
                      </a>
                    </i>
                  </span>

          <span ng-show="lead.updated_at" class="contact-title" >Updated at:  <%=lead.updated_at | date:'yyyy-MM-dd - HH:mm:ss ' %> </span><br>
              <span ng-show="lead.title">{{_("Title")}} : <a   href="/#/search/type:Lead <%=lead.title%>" class="tag" ng-show="lead.title"> #<%= lead.title %> </a></span><span ng-show="lead.company">{{_("Company")}} : <a   href="/#/search/type:Lead <%=lead.company%>" class="tag" ng-show="lead.company"> #<%= lead.company %></a></span> <br>
              <span ng-show="lead.industry">{{_("Industry")}} : </span>
              <a   href="/#/search/type:Lead <%=lead.industry%>" class="tag" ng-show="lead.industry"> #<%= lead.industry %></a> <br>
              <span ng-show="lead.source">{{_("Source")}} : </span>
              <a   href="/#/search/type:Lead <%=lead.source%>" class="tag" ng-show="lead.source"> #<%= lead.source %></a> <br>
              <span ng-show="lead.status">{{_("Status")}} : </span>
              <a   href="/#/search/type:Lead <%=lead.status%>" class="tag" ng-show="lead.status"> #<%= lead.status %></a> <br>
                  <br>
                  <hr>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <div class="tags-section hidden" ng-class="{hidden: contact.tags==null}">
                    <div class="section-content">
                      <span class="pull-left">Tags: </span>
                       <!-- ngRepeat: tag in account.tags -->
                      <a ng-repeat="tag in contact.tags" href="/#/search/type:Contact tags:<%=tag.id%>">
                        <span class="pull-left task-label task-tag badge ng-scope ng-binding" style="background-color: <%=tag.color%>;color:<%=idealTextColor(tag.color)%>;">
                          <%= tag.name %>
                        </span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="tabbable tabbable-custom">
                <ul class="nav nav-tabs">
                  <li class="ng-tab" ng-class="{active: selectedTab == 2}">
                    <a ng-click="selectedTab = 2;renderMaps();">About</a>
                  </li>
                  <li class="ng-tab" ng-class="{active: selectedTab == 1}">
                    <a ng-click="selectedTab = 1;">Notes</a>
                  </li>
                  <li class="ng-tab sm-menu" ng-class="{active: selectedTab ==8}">
                    <a ng-click="selectedTab = 8;">Send an Email</a>
                  </li>
                  <!--li class="ng-tab sm-menu" ng-class="{active: selectedTab == 3}">
                    <a ng-click="waterfall(); selectedTab = 3;">Contacts</a>
                  </li-->
                  <li class="ng-tab sm-menu" ng-class="{active: selectedTab == 7}">
                    <a ng-click="waterfallTrigger();selectedTab = 7;">Attach Documents</a>
                  </li>
                  <!-- <li class="ng-tab md-menu" ng-class="{active: selectedTab == 4}">
                    <a ng-click="selectedTab = 4;">Needs</a>
                  </li> -->
                  <!--li class="ng-tab md-menu" ng-class="{active: selectedTab == 5}">
                    <a ng-click="selectedTab = 5;">Opportunities</a>
                  </li>
                  <li class="ng-tab md-menu" ng-class="{active: selectedTab == 6}">
                    <a ng-click="selectedTab = 6;">Cases</a>
                  </li-->
                  <li class="dropdown md-menu-inv">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                      More <i class="fa fa-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                      <li class="ng-tab sm-menu-inv" ng-class="{active: selectedTab ==8}"><a ng-click="selectedTab = 8;">Send an Email</a></li>
                      <li class="ng-tab sm-menu-inv" ng-class="{active: selectedTab == 3}"><a ng-click="selectedTab = 3;">Contacts</a></li>
                      <li class="ng-tab sm-menu-inv" ng-class="{active: selectedTab == 7}"><a ng-click="selectedTab = 7;">Attach Documents</a>
                      <li class="ng-tab md-menu-inv" ng-class="{active: selectedTab == 4}"><a ng-click="selectedTab = 4;">Needs</a></li>
                      <li class="ng-tab md-menu-inv" ng-class="{active: selectedTab == 5}"><a ng-click="selectedTab = 5;">Opportunities</a></li>
                      <li class="ng-tab md-menu-inv" ng-class="{active: selectedTab == 6}"><a ng-click="selectedTab = 6;">Cases</a></li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <!-- END PAGE HEADER-->
        <!-- BEGIN PAGE CONTENT-->
        <div class="col-md-12">
          <div class="row">
            <div class="">
              <!-- $ tabs -->
              <div class="tab-content">
                <!-- $ notes tab -->
                <div class="tab-pane active" id="tab_1_1" ng-show="selectedTab == 1">
                  <div class="showPage">
                    <div class="row">
                      <div class="col-md-12  margin-bottom-10">
                        <p class⁼"lead"="">
                          To add an outside email to this account, forward or BCC to:
                          <a href="mailto:111054727630979006769@gcdc2013-iogrow.appspotmail.com">
                            111054727630979006769@gcdc2013-iogrow.appspotmail.com
                          </a>
                          <br>
                          Or just add notes to remember what's important.
                          <br>
                        </p>
                        <form id="addNote" class="ng-pristine ng-valid">
                          <div class="form-group">
                            <input class="form-control ng-pristine ng-valid" autofocus="" type="text" placeholder="Add a new subject" id="messageSubject" ng-model="note.title">
                          </div>
                          <div class="form-group">
                            <textarea id="noteBody" class="form-control ng-pristine ng-valid" rows="3" ng-model="note.content"></textarea>
                          </div>
                          <div class="pull-right">
                            <input ng-disabled="isLoading || !note.title" ng-click="addNote(note)"  type="submit" class="btn green" value="Add this note">
                          </div>
                        </form>
                      </div>
                    </div>
                    <ul class="chats">
                      <li class="in" ng-repeat="topic in topics" id="topic_<%=$index%>">
                        <img class="avatar" alt="" ng-src="<%= topic.last_updater.photo%>" />
                        <div class="message">
                          <span class="arrow"></span>
                          <a href="#" class="name">
                            <%= topic.last_updater.display_name%>
                          </a>
                          <span class="datetime">
                            at <%=topic.updated_at | date:'yyyy-MM-dd - HH:mm:ss '  %>
                          </span>
                          <span class="body">
                            <a href="<%=getTopicUrl(topic.topic_kind,topic.id)%>" class="discussion-content"><strong class="ng-binding">
                              <a href="#/notes/show/<%= topic.id%>"><%= topic.title%></a> </strong> - <span class="excerpt ng-binding" ng-bind-html-unsafe="topic.excerpt"></span><span class="chat-meta pull-right" ng-show="topic.comments"><i class="icon-comment"></i> <a href="#/notes/show/<%= topic.id%>"> <%= topic.comments%> </a> comments</span>
                            </a>
                          </span>
                        </div>
                      </li>
                    </ul>

                  </div>
                </div>
                <!-- $ about tab -->
                <div class="tab-pane active" id="tab_1_2" ng-show="selectedTab == 2">
                  <div class="row slimform">
                    <div class="col-md-6">
                      <div class="news-blocks blank-card blank-card-yellow newsCard">
                        <h3>Lead Informations</h3>
                        <div class="news-block-tags">
                          <strong>Phone</strong>
                        </div>
                        <ul class="list-unstyled contact-infos">
                          <li ng-show="showPhoneForm">
                                      <div class="row">
                                        <form name="phoneform" class="form-inline newLeadForm" role="form">
                                          <div class="form-group sm-group" style="">
                                            <label class="sr-only" for="exampleInputPassword2">Type</label>
                                            <select ng-model="phone.type" class="form-control">
                                              <option value="home" selected="selected" >{{_('home')}}</option>
                                              <option>{{_('work')}}</option>
                                              <option>{{_('mobile')}}</option>
                                              <option>{{_('other')}}</option>
                                            </select>
                                          </div>
                                          <div class="form-group sm-group" style="">
                                            <label class="sr-only" for="exampleInputEmail2">Number</label>
                                            <input 
                                                name="phonenumber" 
                                                type="text"  
                                                class="form-control" 
                                                id="exampleInputEmail2" 
                                                ng-model="phone.number" 
                                                placeholder="Enter a number" 
                                                required 
                                                ng-pattern="/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i"
                                                ng-focus="isFocused=true">
                                               <!--  <span class="error" ng-show="phoneform.phonenumber.$error.required">
                                                    Required!
                                                </span>
                                                    <span class="error" ng-show="phoneform.phonenumber.$error.pattern">
                                                  Not valid!
                                                </span> -->
                                          </div>
                                           <button type="submit" ng-click="addPhone(phone)" class="btn blue jfk-button jfk-button-action">Add</button>
                                            <button type="submit" class="btn btn-default" ng-click="showPhoneForm=false">X</button>
                                        </form>
                                      </div>
                            </li>
                          <li ng-repeat="phone in infonodes.phones"> <a editable-text="phone.number" editoptions editdataattr="deleteInfonode('<%=phone.entityKey%>','phones')" onbeforesave="inlinePatch('Infonode','phones', 'number',phone.entityKey,$data)"> <%=phone.number%> </a> - <a editable-select="phone.type" e-ng-options="s.value as s.text for s in statuses" onbeforesave="inlinePatch('Infonode','phones', 'type',phone.entityKey,$data)"> <%=phone.type%> </a> <a ><img class="ctodeal"  /></a></li>
                          <li>
                            <a ng-hide="showPhoneForm" ng-click="showPhoneForm=true" class="btn-link addAnotherPhone" ><i class="icon-plus"></i>Add a new Phone</a>
                          </li>

                        </ul>
                        <div class="news-block-tags">
                          <strong>Email</strong>
                        </div>
                        <ul class="list-unstyled contact-infos">
                        <li ng-show="showEmailForm">
                                        <div class="row">
                                          <form class="form-inline newLeadForm" role="form">
                                            <div class="form-group lg-group" style="">
                                              <label class="sr-only" for="exampleInputEmail2">Email</label>
                                              <input type="email" class="form-control" id="exampleInputEmail2" ng-model="newEmail" placeholder="Enter an email">
                                            </div>
                                             <button type="submit" class="btn blue jfk-button jfk-button-action" ng-click="addEmail(newEmail)" >Add</button>
                                              <button type="submit" ng-click="showEmailForm=false" class="btn btn-default">X</button>
                                          </form>
                                        </div>
                          </li>
                        <li ng-repeat="email in infonodes.emails"> <a editable-text="email.email" editoptions editdataattr="deleteInfonode('<%=email.entityKey%>','emails',email.email)"  onbeforesave="inlinePatch('Infonode','emails', 'email',email.entityKey,$data)"> <%=email.email %>  </a> </li>
                          <li>
                            <a class="btn-link addAnotherPhone" ng-hide="showEmailForm" ng-click="showEmailForm=true"><i class="icon-plus"></i> Add a new email address </a>
                          </li>

                        </ul>
                        <div class="news-block-tags">
                          <strong>Address</strong>
                        </div>
                        <ul class="list-unstyled contact-infos">
                           <li ng-repeat="address in infonodes.addresses">- <span editable-text="address.country" editoptions editdataattr="deleteInfonode('<%=address.entityKey%>','addresses')"  onbeforesave="inlinePatch('Infonode','addresses', 'street',address.entityKey,$data)" ng-show="address.street"><%=address.street%>, </span> <span editable-text="address.city" onbeforesave="inlinePatch('Infonode','addresses', 'city',address.entityKey,$data)" ng-show="address.city"><%=address.city%>, </span> <span editable-text="address.country" onbeforesave="inlinePatch('Infonode','addresses', 'country',address.entityKey,$data)" ng-show="address.country"><%=address.country%></span></li>
                          <li>
                            <a href="#addressmodal" class="btn-link addAnotherPhone" data-toggle="modal"><i class="icon-plus"></i> Add a new address </a>
                          </li>

                        </ul>
                      </div>
                      <div class="news-blocks blank-card blank-card-bluep newsCard">
                        <h3>Links</h3>
                        <div class="news-block-tags">
                          <strong>Website</strong>
                        </div>
                        <ul class="list-unstyled contact-infos">
                            <li ng-show="showWebsiteForm">
                                <div class="row">
                                    <form name="websiteform" class="form-inline newLeadForm" role="form">
                                          <div class="form-group lg-group" style="">
                                            <label class="sr-only" for="exampleInputEmail2">Website</label>
                                            <input 
                                                name="website"
                                                type="url" 
                                                ng-model="website.url" 
                                                class="form-control" 
                                                id="exampleInputEmail2" 
                                                placeholder="Enter a Website"
                                                required
                                              
                                                >
                                          </div>
                                      <button type="submit" ng-click="addWebsite(website)" class="btn blue jfk-button jfk-button-action">Add</button>
                                      <button type="submit" ng-click="showWebsiteForm=false" class="btn btn-default">X</button>
                                        </form>
                                      </div>
                            </li>
                          <li ng-repeat="website in infonodes.websites"><a editable-text="website.url" onbeforesave="inlinePatch('Infonode','websites', 'url',website.entityKey,$data)" href="http://<%=website.url%>"  target="_blank" editoptions editdataattr="deleteInfonode('<%=website.entityKey%>','websites')" ><%=website.url%></a> </li>
                          <li>
                               <a  ng-hide="showWebsiteForm" ng-click="showWebsiteForm=true" class="btn-link addAnotherPhone" data-toggle="modal"><i class="icon-plus"></i> Add a new Website </a>
                          </li>
                        </ul>
                        <div class="news-block-tags">
                          <strong>Social Links</strong>
                        </div>
                        <ul class="list-unstyled contact-infos">
                          <li ng-show="showSociallinkForm">
                                          <div class="row">
                                            <form class="form-inline newLeadForm" role="form">
                                              <div class="form-group lg-group" style="">
                                                <label class="sr-only" for="exampleInputEmail2">Social link</label>
                                                <input type="url" class="form-control" id="exampleInputEmail2" ng-model='sociallink.url' placeholder="Enter a social link">
                                              </div>
                                               <button ng-click="addSocial(sociallink)" type="submit" class="btn blue jfk-button jfk-button-action">Add</button>
                                                <button type="submit" ng-click="showSociallinkForm=false" class="btn btn-default">X</button>
                                            </form>
                                          </div>
                            </li>
                          <li ng-repeat="sociallink in infonodes.sociallinks"><a editable-text="sociallink.url" onbeforesave="inlinePatch('Infonode','sociallinks', 'url',sociallink.entityKey,$data)" href="<%=sociallink.url%>" target="_blank" editoptions editdataattr="deleteInfonode('<%=sociallink.entityKey%>','sociallinks')"> <%=sociallink.url%> </a></li>
                          <li>
                            <a class="btn-link addAnotherPhone" ng-hide="showSociallinkForm" ng-click="showSociallinkForm=true"><i class="icon-plus"></i> Add a new social links </a>
                          </li>
                        </ul>
                      </div>
                      <div class="news-blocks blank-card blank-card-yellow newsCard">
                        <h3>Custom Fields</h3>
                        <ul class="list-unstyled contact-infos">
                           <li ng-show="showCustomFieldForm">
                                          <div class="row">
                                            <form class="form-inline newLeadForm" role="form">
                                              <div class="form-group sm-group" style="">
                                                <label class="sr-only" for="exampleInputEmail2">Field</label>
                                                <input 
                                                    type="text" 
                                                    class="form-control" 
                                                    id="exampleInputEmail2" 
                                                    ng-model="customfield.field" placeholder="Enter field name" required>
                                              </div>
                                              <div class="form-group sm-group" style="">
                                                <label class="sr-only" for="exampleInputEmail2">Value</label>
                                                <input 
                                                    type="text" 
                                                    class="form-control" 
                                                    id="exampleInputEmail2" 
                                                    ng-model="customfield.value" placeholder="Enter a value" required>
                                              </div>
                                               <button type="submit" class="btn blue jfk-button jfk-button-action" ng-click="addCustomField(customfield)">Add</button>
                                                <button type="submit" class="btn btn-default" ng-click="showCustomFieldForm=false">X</button>
                                            </form>
                                          </div>
                          </li>
                          <li ng-repeat="custom in infonodes.customfields">
                              <span editoptions editdataattr="deleteInfonode('<%=custom.entityKey%>','customfields')"   >
                                    <%= custom.fields[0].field%>  :
                              </span>

                              <span editable-text="custom.fields[0].value" onbeforesave="inlinePatch('Infonode','customfields', '<%= custom.fields[0].field%>',custom.entityKey,$data)" >   <%= custom.fields[0].value%>
                              </span>

                          </li>
                          <li>
                            <a ng-click="showCustomFieldForm=true" ng-hide="showCustomFieldForm"class="btn-link addAnotherPhone" data-toggle="modal"><i class="icon-plus"></i> Add a new custom field </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="right-col">
                        <div class="news-blocks blank-card blank-card-red newsCard">
                          <h3>Story</h3>
                          <div class="news-block-tags">

                         <div class="form-group row">
                            <label class="control-label col-md-4">Tagline</label>
                             <div class="col-md-8">
                                 <input ng-blur="updateContactIntroTagline({'id':lead.id,'tagline':lead.tagline})" type="text" required id="id_tagline" class="form-control" ng-model="lead.tagline">
                             </div>
                          </div>
                           </div>

                          <div class="news-block-tags">

                            <div class="form-group row">
                               <label class="control-label col-md-4">Introduction</label>
                             <div class="col-md-8">
                               <textarea id="noteBody" ng-blur="updateContactIntroTagline({'id':lead.id,'introduction':lead.introduction})" class="form-control ng-pristine ng-valid" rows="3" ng-model="lead.introduction"></textarea>
                              </div>
                              </div>
                           </div>

                        </div>
                        <div class="news-blocks blank-card blank-card-yellow newsCard">
                          <div id="gmap_canvas" style="width:100%;height:300px;"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- $ contacts tab -->
                <div class="tab-pane active" id="tab_1_3" ng-show="selectedTab == 3" style="display: none;">
                  <div class="row cards-container">
                    <div class="btn-group relbutton">
                      <button ng-click="addContactModal()" id="sample_editable_1_new" class="btn red">
                        Add person
                      </button>
                    </div>
                    <div class="col-md-12">
                            <div class="row">
                              <div class="col-md-12 waterfall" ng-hide="blankStateaccount">
                                <div droppable  ng-repeat="contact in contacts" data-column="<%=getPosition($index)%>" class="cardElement" ng-drop="dropTag(contact)" ng-class="{rightcards: getPosition($index)==4}">
                                    <div class="detailsSection">
                                      <div class="head">
                                        <div class="pic">
                                            <a href="/#/contact/show/<%= contact.id %>" class="startup-link" title="contact.firstname"><img ng-hide="account.logo_img_id" alt="contact.firstname" class="img-responsive img-thumbnail" src="/static/img/default_company.png" >
                                            <img ng-show="account.logo_img_id" alt="account.name" class="img-responsive img-thumbnail" ng-src="https://docs.google.com/uc?id=<%= account.logo_img_id %>" data-hasqtip="2">
                                            </a>
                                        </div>
                                        <div class="text">
                                            <div class="name"><a href="/#/contact/show/<%= contact.id %>" class="profile-link" data-id="126085" data-type="Startup"><%= contact.firstname %> <%= contact.lastname %></a></div>
                                             <div class="pitch">
                                                <span  ng-show="contact.account_type">
                                                  <a href="/#/search/type:contact <%=contact.title%>"> #<%= contact.title %></a>
                                                </span>
                                              </div>
                                        </div>
                                        <div class="clearfix"></div>
                                      </div>
                                    </div>
                                    <div class="tagsSection" ng-class="{hidden: contact.tags==null}">
                                        <div class="sectionContent">
                                             <a ng-repeat="tag in contact.tags" href="/#/search/type:contact tags:<%=tag.id%>"> <span class="pull-right task-label task-tag badge ng-scope ng-binding" style="background-color: <%=tag.color%>;color:<%=idealTextColor(tag.color)%>;">  <%= tag.name %></span>
                                             </a>
                                        </div>
                                    </div>
                            </div>
                             <!--blank stat-->
                            <div ng-show="blankStateaccount" data-span="3" class="col-md-12 responsive" data-tablet="span6" data-desktop="span12">
                              <div class="dashboard-stat cards">
                                <div class="blank_slate_arrow"></div>
                                <div class="thumbnail blank_slate_body">
                                    <img class="img-responsive" src="/static/img/accounts_blank.png">
                                    <p class="lead">{{ _('Accounts  pages includes a detailed page for each customer, partner, or investor in your ecosystem. You and your co-workers can collaborate to get a deep understanding.') }}</p>
                                </div>
                              </div>
                            </div>
                            <div ng-show="isFiltering * !accounts" data-span="3" class="col-md-12 responsive" data-tablet="span6" data-desktop="span12">
                              <div class="dashboard-stat cards" >
                                <div class="blank_slate_arrow"></div>
                                    <div class="thumbnail blank_slate_body">

                                        <p class="lead">{{ _('No results found, try with another filter') }}</p>
                                    </div>
                              </div>
                            </div>
                            <div class="clearfix"></div>

                            </div><!--/inner-cards-container-->
                              </div><!--/inner-cards-container-->
                              </div>
                            </div>


                      </div>
                  <!--HKA 24.12.2013 Modal before Deleting Lead-->
         <div id="BeforedeleteLead" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">Delete Lead</h3>
              </div>
              <div class="modal-body">
                 <form id="seletesho" name="deletesho" class="form-horizontal">


                  <p>{{_("Are you sure you want to delete")}} :  <%= lead.firstname %> <%= lead.lastname %> .</p>





              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                <input ng-click="deletelead()" type="submit" class="btn red" value="Delete this Lead">
                <!--input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled-->
              </div>
               </form>
               </div>
          </div>
       </div>


                <!-- $ documents tab -->
                <div class="tab-pane active" id="tab_1_7" ng-show="selectedTab == 7" style="display: none;">

                         <div class="row cards-container iodrive">

                         <div class="btn-group relbutton">

                                <div class="btn-group">
                                    <a class="btn red" href="#" data-toggle="dropdown">
                                     Create
                                    <i class="icon-angle-down"></i>
                                    </a>
                                    <ul class="dropdown-menu">
                                      <li><a ng-click="showCreateDocument('document')" href="#" data-toggle="modal">
                                           <img src="/static/img/google_drive/text/plain.png" class="">
                                          Document
                                          </a>
                                      </li>
                                      <li><a ng-click="showCreateDocument('presentation')" href="#" data-toggle="modal">
                                           <img src="/static/img/google_drive/presentation.png" class="">
                                          Presentation
                                          </a>
                                      </li>
                                      <li><a ng-click="showCreateDocument('spreadsheet')" href="#" data-toggle="modal">
                                           <img src="/static/img/google_drive/spreadsheet.png" class="">
                                          Spreadsheet
                                          </a>
                                      </li>

                                    </ul>
                                </div>
                                <div class="btn-group">
                                    <button ng-click="createPickerUploader()" id="sample_editable_1_new" class="btn red">
                                    <i class="icon-upload-alt"></i>
                                    </button>

                                </div>
                          </div>
                          <div class="col-md-12">
                            <div class="row">
                             <!-- ngRepeat: attachment in documents -->
                                   <div class="col-md-12 waterfall2" ng-hide="blankStateaccount">
                                      <div ng-repeat="attachment in documents"  class="cardElement"  >
                                          <div class="detailsSection">
                                            <div class="head">
                                              <div class="pic">
                                                  <a href="/#/documents/show/<%= attachment.id %>" class="startup-link" title="attachment.title">
                                                  <img  alt="attachment.title" class="google-drive-icon img-responsive img-thumbnail" ng-src="/static/img/google_drive/<%=attachment.mimeType%>.png" >
                                                  </a>
                                              </div>
                                              <div class="text">
                                                  <div class="name"><a href="/#/documents/show/<%= attachment.id %>"title="<%=attachment.title%>" class="profile-link" ><span><%=attachment.title%></span></a></div>
                                                   <div class="pitch">
                                                      <span  ng-show="contact.account_type">
                                                        <a href="/#/search/type:contact <%=contact.title%>"> #<%= contact.title %></a>
                                                      </span>
                                                    </div>
                                              </div>
                                              <div class="clearfix"></div>
                                            </div>
                                          </div>
                                       </div>
                                   <!--blank stat-->
                                  <div class="clearfix"></div>
                              </div><!--/inner-cards-container-->
                               <div ng-show="blankStatdocuments" class="col-md-12 responsive" data-tablet="span6" data-desktop="span12">
                                       <div class="dashboard-stat cards">
                                           <div class="blank_slate_arrow"></div>
                                           <div class=" thumbnail blank_slate_body">
                                              <img src="/static/img/documents_blanks.png" class="img-responsive">
                                                <p class="lead">Manage easily your documments using Google drive</p>
                                           </div>
                                       </div>
                                   </div>
                              </div>

                              </div>

                            </div>

                      </div>
                <!-- $ send email tab -->
                <div class="tab-pane active" id="tab_1_4" ng-show="selectedTab == 8">
                    <div class="showPage">
                        <div class="row">
                            <div class="col-md-12  margin-bottom-10">
                                <p class⁼"lead"=""><strong>Send an Email to :</strong> </p>
                                <form  class="ng-pristine ng-valid">
                                    <div class="form-group">
                                        <input  type="text" required class="form-control ng-pristine ng-valid" autofocus  placeholder="To" id="messageSubject" ng-model="email.to">
                                    </div>

                                    <div class="form-group">
                                        <input class="form-control ng-pristine ng-valid" autofocus type="text" placeholder="CC" id="messageSubject" ng-model="email.cc">
                                    </div>
                                    <div class="form-group">
                                        <input class="form-control ng-pristine ng-valid" autofocus type="text" placeholder="BCC" id="messageSubject" ng-model="email.bcc">
                                    </div>
                                    <div class="form-group">
                                        <input  required class="form-control ng-pristine ng-valid" autofocus type="text" placeholder="Add a subject" id="messageSubject" ng-model="email.subject">
                                     </div>
                                    <div class="form-group">
                                        <textarea id="some-textarea" placeholder="Enter text ..." id="noteBody" class="form-control ng-pristine ng-valid" rows="7" ng-model="email.body"></textarea>
                                     </div>
                                     <div class="pull-right">
                                        <input   ng-click="sendEmail(email)" ng-disabled="isLoading || !email.to" type="submit" class="btn green" value="Send">
                                    </div>
                                </form>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- tasks cards -->
    <div class="col-md-3 tasks-col">
      <div class="row">
        <div class="col-md-12">
          <div class="portlet showCard">
            <div class="portlet-title line">
              <div class="caption">
                <i class="fa fa-check"></i>Tasks
              </div>
            </div>
            <div class="portlet-body" id="chats">
              <div class="scroller" style="height:200x" data-always-visible="1" data-rail-visible="0">
                <div id="newTask">
                  <p><strong>Tasks:</strong></p>
                  <ul id="tasks" class="list-unstyled">
                    <li ng-repeat="task in tasks" id="task_<%=$index%>">
                      <input value="check1" type="checkbox">
                      <span>
                        <a href="/#/tasks/show/<%=task.id%>" class="discussion-content">
                          <%= task.title%>
                        </a>
                        <span ng-show="task.due">
                          [before: <%= task.due | date:'yyyy-MM-dd '%>]
                        </span>
                      </span>
                    </li>
                    <li>
                      <a href="#myModal" class="btn-link addAnotherPhone" data-toggle="modal">Add a new task</a>
                    </li>
                  </ul>
                  <div class="newTask" ng-show="addingTask">
                    <form ng-submit="addNewTask()" class="newTaskForm">
                      <div class="form-group">
                        <div class="input-icon right">
                          <input taggable taggabledata="taggableOptions" ng-model="newTask.title" id="new_task_text" class="form-control"  placeholder="Add new task ..." autofocus/>
                        </div>
                      </div>
                    </form>
                    <div>
                      <div class="newTask-meta pull-right">
                        <datetimepick icon-class='fa fa-bell-o' label-format='MMM d, h:mm a' ng-model='newTask.reminder' class="new-task-reminder pull-right"></datetimepick>
                        <datetimepick ng-model='newTask.due' class="new-task-date pull-right" label-format='MMM d, h:mm a'></datetimepick>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- $ Events -->
      <div class="row">
        <div class="col-md-12">
          <div class="portlet showCard">
            <div class="portlet-title line">
              <div class="caption">
                <i class="fa fa-calendar"></i>Events
              </div>
            </div>
            <div class="portlet-body" id="chats">
              <div class="scroller" style="height:200x" data-always-visible="1" data-rail-visible="0">
                <div id="newTask">
                  <p><strong>Events:</strong></p>
                  <ul id="tasks" class="list-unstyled">
                    <li ng-repeat="event in events" id="event_<%=$index%>">
                      <input value="check1" type="checkbox">
                      <span>
                        <a href="/#/events/show/<%=event.id%>" class="discussion-content">
                          <%= event.title%>
                          <span ng-show="event.starts_at">
                            [<%= event.starts_at | date:'yyyy-MM-dd '%>]
                          </span>
                        </a>
                      </span>
                    </li>
                    <li>
                      <a href="#newEventModal" class="btn-link addAnotherPhone" data-toggle="modal">
                        {{_("Add a new event")}}
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

            <!--HKA 11.10.2013 Edit Contact -->
             <div id="EditContactModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

              <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Edit Contact")}}</h3>
              </div>

              <div class="modal-body">
                 <form id="editAccount" name="editlead" ng-submit="updatecontact(contact)" class="form-horizontal">


                  <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("First Name")}} </label>

                        <div class="col-md-9">
                          <input type="text" class="form-control" required id="id_firstname" ng-model="contact.firstname">

                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("Last Name")}}</label>

                        <div class="col-md-9">
                          <input type="text" class="form-control"  id="id_type" ng-model="contact.lastname">

                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("Tittle")}} </label>

                        <div class="col-md-9">
                          <input type="text" class="form-control"  required id="id_Title" ng-model="contact.title">

                        </div>
                    </div>
                    <!--div class="control-group">
                        <label  class="required col-md-3 control-label">{{_("Company")}} </label>

                        <div class="col-md-9">
                          <input type="text" class="form-control"   id="id_Company" ng-model="contact.company">

                        </div>
                    </div-->





              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Close")}}</button>
                <button  type="submit" class="btn btn-primary addContactNow">{{_("Save")}} </button>
              </div>
               </form>
               </div>
               </div>
              </div>
          <!--HKA 24.12.2013 Modal before Deleting Contact-->
  <div id="BeforedeleteContact" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">Delete Contact</h3>
              </div>
              <div class="modal-body">
                 <form id="seletesho" name="deletesho" class="form-horizontal">


                  <p>{{_("Are you sure you want to delete")}} :  <%=contact.firstname%> <%=contact.lastname%>  .</p>

              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                <input  ng-click="deletecontact()" type="submit" class="btn red" value="Delete this Contact">
                <!--input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled-->
              </div>
               </form>
               </div>
               </div>
       </div>

      <!--HKA 11.10.2013 Edit Tagline -->
             <div id="EditTagModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
              <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Edit Lead")}}</h3>
              </div>

              <div class="modal-body">
                 <form id="editTagline" name="editlead" ng-submit="updateTagline(lead)" class="form-horizontal">


                  <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Tagline")}} </label>

                        <div class="col-md-9">
                          <!--textarea rows="2" cols="50"  id="id_tagline" ng-model="account.tagline"/-->
                           <textarea id="noteBody" class="form-control ng-pristine ng-valid" rows="3" ng-model="lead.tagline"></textarea>

                        </div>
                    </div>
              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Close")}}</button>
                <button  type="submit" class="btn btn-primary addContactNow">{{_("Save")}} </button>
              </div>
               </form>
               </div>
               </div>
            </div>

  <!--HKA 11.10.2013 Edit Introduction  -->
             <div id="EditIntroModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
              <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Edit Lead")}}</h3>
              </div>

              <div class="modal-body">
                 <form id="editTagline" name="edittag" ng-submit="updateintro(lead)" class="form-horizontal">


                  <div class="form-group">
                        <label  class=" col-md-3 control-label">{{_("Introduction")}} </label>

                        <div class="col-md-9">

                           <textarea id="noteBody" class="form-control ng-pristine ng-valid" rows="3" ng-model="lead.introduction"></textarea>

                        </div>
                    </div>
              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Close")}}</button>
                <button  type="submit" class="btn btn-primary addContactNow">{{_("Save")}} </button>
              </div>
               </form>
               </div>
               </div>
            </div>

      <!--HKA 18.11.2013 Add Phone Modal -->


    <div id="phonemodal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Add Phone")}}</h3>
            </div>
            <div class="modal-body">
                  <form id="addPhone" name="addphone" class="form-horizontal">
                    <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Type")}} </label>
                        <div class="col-md-9">
                          <!--input type="text" placeholder="{{_('home')}},{{_('work')}},{{_('mobile')}},{{_('other')}} ..." required id="id_name" ng-model="phone.type_number"-->
                          <select ng-model="phone.type_number" class="form-control">
                            <option value="home" selected="selected" >{{_('home')}}</option>
                            <option>{{_('work')}}</option>
                            <option>{{_('mobile')}}</option>
                            <option>{{_('other')}}</option>

                          </select>
                        </div>
                     </div>
                     <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("Number")}}</label>

                        <div class="col-md-9">
                          <input type="text" class="form-control" id="id_name" ng-model="phone.number">

                        </div>
                     </div>
              </div>
              <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                 <input ng-hide="isLoading" ng-click="addPhone(phone)" ng-disabled="!(phone.number)" type="submit" class="btn green" value="{{_('Add this phone')}}">

                  <input ng-show="isLoading" type="submit" class="btn green" value="{{_('Loading...')}}" disabled>
              </div>
                </form>
            </div>
            </div>
    </div>


 <!--HKA 18.11.2013 Add Email -->

     <div id="emailmodal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Add Email")}}</h3>
            </div>
            <div class="modal-body">
                  <form id="addEmail" name="addemail"  class="form-horizontal">
                    <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Email")}} </label>
                        <div class="col-md-9">
                          <input type="text" placeholder="{{_('Email')}}" required id="id_email" ng-model="emaill.email" ng-pattern="/^[\w\.\_]+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}/"  class="form-control">
                        </div>
                     </div>
              </div>
              <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                  <input ng-hide="isLoading" ng-click="addEmail(emaill)"   ng-disabled="!(emaill.email)"  type="submit" class="btn green" value="Add this email">
                  <input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled>
              </div>
                </form>
              </div>
              </div>
        </div>

      <!--HKA 18.11.2013  Addresse Modal  -->

    <div id="addressmodal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Add Address")}}</h3>
            </div>
            <div class="modal-body">
                  <form id="addAddress" name="addemail"  class="form-horizontal">
                    <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Street")}} </label>
                        <div class="col-md-9">
                          <input type="text"   class="form-control" id="id_street" ng-model="address.street">
                        </div>
                     </div>
                     <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("City")}} </label>
                        <div class="col-md-9">
                          <input type="text"  class="form-control" id="id_city" ng-model="address.city">
                        </div>
                     </div>
                     <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("State/Province")}} </label>
                        <div class="col-md-9">
                          <input type="text" class="form-control" id="id_state" ng-model="address.state">
                        </div>
                     </div>
                     <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Postal Code")}} </label>
                        <div class="col-md-9">
                          <input type="text"  class="form-control" id="id_postal" ng-model="address.postal_code">
                        </div>
                     </div>
                     <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Country")}} </label>
                        <div class="col-md-9">
                          <input type="text"  class="form-control" id="id_country" ng-model="address.country">
                        </div>
                     </div>
              </div>
              <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                  <input ng-hide="isLoading" ng-click="addAddress(address)" ng-disabled="(!address.country || !address.state || !address.city || !address.street)" type="submit" class="btn green" value="{{_('Add this address')}}">
                  <input ng-show="isLoading" type="submit" class="btn green" value="{{_('Loading...')}}" disabled>
              </div>
                </form>
            </div>
            </div>
        </div>


     <div id="customfields" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Add Website")}}</h3>
            </div>
            <div class="modal-body">
                  <form id="addWebsite" name="addwebsite"  class="form-horizontal">
                    <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Custom Field")}} </label>
                        <div class="col-md-9">
                          <div class="form-group">
                               <input type="text" class="form-control" placeholder="Field"  ng-model="customField.field">
                          </div>
                          <div class="form-group">
                               <input type="text" class="form-control" placeholder="Value"  ng-model="customField.value">
                          </div>
                        </div>
                     </div>
              </div>
              <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                  <input ng-hide="isLoading" ng-click="addCustomField(customField)" ng-disabled="!(customField.field && customField.value)" type="submit" class="btn green" value="{{_('Add this custom field')}}">
                  <input ng-show="isLoading" type="submit" class="btn green" value="{{_('Loading...')}}" disabled>
              </div>
                </form>
                </div>
                </div>
        </div>
    <!--HKA 18.11.2013 Website Modal -->


    <div id="websitemodal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Add Website")}}</h3>
            </div>
            <div class="modal-body">
                  <form id="addWebsite" name="addwebsite"  class="form-horizontal">
                    <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Website")}} </label>
                        <div class="col-md-9">
                          <input type="text" class="form-control" placeholder="Website" required id="id_website" ng-model="website.website" >
                        </div>
                     </div>
              </div>
              <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                  <input ng-hide="isLoading" ng-click="addWebsite(website)" ng-disabled="!(website.website)" type="submit"  class="btn green" value="{{_('Add this Website')}}">
                  <input ng-show="isLoading" type="submit" class="btn green" value="{{_('Loading...')}}" disabled>
              </div>
                </form>
                </div>
                </div>
        </div>

    <!--HKA 18.11.2013 Social modal -->


    <div id="socialmodal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Add Social link")}}</h3>
            </div>
             <div class="modal-body">
                  <form id="addSocial" name="addsocial"  class="form-horizontal">
                    <div class="form-group">
                        <label  class="col-md-3 control-label">{{_("Social link")}} </label>
                        <div class="col-md-9">
                          <input type="text" placeholder="{{_('Social link')}}"  required id="id_social" ng-model="social.sociallink" class="form-control" >
                        </div>
                     </div>
              </div>
              <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                  <input ng-hide="isLoading" ng-click="addSocial(social)" ng-disabled="!(social.sociallink)" type="submit" class="btn green" value="{{ _('Add this social link') }}">
                  <input ng-show="isLoading" type="submit" class="btn green" value="{{ _('Loading...') }}" disabled>
              </div>
                </form>
                </div>
                </div>
        </div>

    </div>
      <!-- END PAGE CONTAINER-->
</div>
 <!--HKA 18.11.2013 Add Contact modal -->

                    <div id="addContactModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
                    <div class="modal-dialog">
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                          <h3 id="myModalLabel" class="modal-title">{{_("New Contact")}}</h3>
                        </div>
                        <div class="modal-body">
                            <form id="addContact" name="addcontact"   class="form-horizontal" role="form">
                            <div class="form-group">
                              <label  class="required col-md-3 control-label">{{_("First Name")}} </label>

                              <div class="col-md-9">
                              <input class="form-control" type="text" required id="id_firstname" ng-model="contact.firstname">

                               </div>
                            </div>
                           <div class="form-group">
                              <label  class="required col-md-3 control-label">{{_("Last Name")}}</label>
                              <div class="col-md-9">
                              <input class="form-control" type="text"  id="id_lastname" ng-model="contact.lastname">

                              </div>
                           </div>
                           <div class="form-group">
                             <label  class="required col-md-3 control-label">{{_("Tittle")}} </label>

                             <div class="col-md-9">
                              <input class="form-control" type="text"  id="id_account" ng-model="contact.title">

                              </div>
                           </div>
              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>
                <button  type="submit" class="btn green addContactNow" ng-click="savecontact(contact)">{{_("Add Contact")}}</button>
              </div>
               </form>
             </div>
           </div>
       </div>
  <!-- Convert Modal -->
   <div id="convertLeadModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Are you sure you want to convert")}} <%=lead.firstname%> <%=lead.lastname%></h3>
              </div>
              <div class="modal-body">
                 <form id="addLead" name="addaccount" ng-keyup="convertLeadOnKey(lead)" class="form-horizontal">


                  <p>Converting a lead will create a person contact and company. All documents,notes,tasks and events will be transfered. You should only convert a lead if it is qualified.</p>





              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                <input  ng-click="convert(lead)" type="submit" class="btn green" value="Convert this lead">
                <!--input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled-->
              </div>
               </form>
               </div>
          </div>
       </div>

<div id="sharingSettingsModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
           <div class="modal-dialog">
              <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Sharing Settings")}}</h3>
              </div>
              <div class="modal-body">
                 <form id="addMember" name="addaccount" class="form-horizontal">

                    <p>{{ _("Who has access:") }}</p>
                    <div class="radio-list">

                            <label >
                            <input type="radio" name="optionRadio" value="public" ng-model="lead.access" />
                            {{ _("public: Anyone within your organization can access and find") }}
                            </label>
                            <label >
                            <input type="radio" name="optionRadio"  value="private" ng-model="lead.access" />
                            {{ _("private: only you and your collaborators") }}
                            </label>
                    </div>
                    <hr/>
                    <div class=''>
                    <p>{{ _("Collaborators:") }}</p>
                        <div ng-repeat="collaborator in lead.collaborators_list" class="invitation">
                          <img class="google-avatar" ng-src="<%=collaborator.photo%>"/>
                           <%=collaborator.display_name%> < <%=collaborator.email%> >
                        </div>

                    </div>
                    <hr/>

                    <div class=''>
                    <p>{{ _("Invited user:") }}</p>
                    <div class="invitation" ng-repeat="invited in sharing_with">
                      <img class="google-avatar" src="<%= invited.google_public_profile_photo_url%>"/>
                        <strong> <%= invited.google_display_name %> < <%=invited.email%> ></strong>
                      <hr/>
                    </div>

                    <p>{{ _("Invite collaborators:") }}</p>
                    <div class="form-group">
                      <input type="text" ng-model="user" typeahead="user as user.google_display_name + ' <' + user.email + '>' for user in users | filter:$viewValue | limitTo:8" typeahead-on-select="selectMember()" class="form-control" placeholder="{{ _('Enter name or email addresse to add people to this group') }}">
                    </div>

                      </div>
              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>
                <button  type="submit"  ng-click="share(slected_memeber)"  class="btn blue addContactNow">{{_("Share")}}</button>
              </div>
               </form>
               </div>
               </div>

       </div>

<div id="BeforedeleteAccount" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">Delete Account</h3>
              </div>
              <div class="modal-body">
                 <form id="seletesho" name="deletesho" class="form-horizontal">
                  <p>{{_("Are you sure you want to delete")}} :  <%=account.name %> .</p>
              </div>
                <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                  <input  ng-click="deleteaccount()" type="submit" class="btn red" value="Delete this Account">
                  <!--input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled-->
                </div>
            </form>
          </div>
        </div>
       </div>
         <!-- BEFORE DELETE MODEL END-->
           <!--HKA 24.12.2013 Modal before Deleting Account-->
          <!-- BEFORE DELETE MODEL-->
         <div id="BeforedeleteInfonode" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">Delete Information</h3>
              </div>
              <div class="modal-body">
                 <form id="seletesho" name="deletesho" class="form-horizontal">
                  <p>{{_("Are you sure you want to delete")}} :  <%=account.name %> .</p>
              </div>
                <div class="modal-footer">
                  <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

                  <input  ng-click="deleteaccount(account)" type="submit" class="btn red" value="Delete this Information">
                  <!--input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled-->
                </div>
            </form>
          </div>
        </div>
       </div>

<div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
              <h3 id="myModalLabel" class="modal-title">{{_("Add a new Task")}}</h3>
            </div>
            <div class="modal-body pickerin">
                     <div class="controls controls-row">
                                          <form id="addTask" class="ng-pristine ng-valid">
                                                  <input class="form-control" autofocus type="text" placeholder="Add a new task" id="taskTitle" ng-model="task.title">

                                                  <p><strong>{{_("When's it due?")}}</strong></p>
                                                  <center>
                                                    <datetimepicker data-ng-model="task.due"
                                                    data-datetimepicker-config="{ startView:'day', minView:'day' }" />
                                                  </center>
                  </div>
            </div>
            <div class="modal-footer">
              <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

               <input ng-hide="isLoading" ng-click="addTask(task)"  type="submit" class="btn green" value="Add this task">


            </form>
            </div>
            </div>
            </div>
          </div>

<div id="newDocument" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
              <h3 id="myModalLabel" class="modal-title">{{_("Create a new")}} <%=mimeType%></h3>
            </div>
            <div class="modal-body">
                     <div class="controls controls-row">
                                          <form id="addTask"  class="ng-pristine ng-valid">
                                                  <input class="form-control" autofocus type="text" placeholder="Enter a new <%=mimeType%> name" id="taskTitle" ng-model="newdocument.title" required>


                     </div>
            </div>
            <div class="modal-footer">
              <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>

               <input ng-hide="isLoading" type="submit" class="btn green" value="Create this document" ng-click="createDocument(newdocument)">
                <input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled>

            </form>
            </div>
            </div>
            </div>
          </div>
 <!--HKA 11.10.2013 Edit Lead -->
<div id="EditLeadModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h3 id="myModalLabel" class="modal-title">{{_("Edit Lead")}}</h3>
            </div>
            <div class="modal-body">
                <form id="editLead" name="editlead"  class="form-horizontal">
                    <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("First Name")}} *</label>

                        <div class="col-md-9">
                          <input type="text" class="form-control" required id="id_firstname" ng-model="lead.firstname">

                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("Last Name")}}</label>

                        <div class="col-md-9">
                          <input type="text"  class="form-control" id="id_lastname" ng-model="lead.lastname">

                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("Title")}}</label>

                        <div class="col-md-9">
                          <input type="text" class="form-control"  id="id_lastname" ng-model="lead.title">

                        </div>
                    </div>

                    <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("Company")}} *</label>

                        <div class="col-md-9">
                          <input type="text"  class="form-control" required id="id_company" ng-model="lead.company">

                        </div>
                    </div>
                    <div class="form-group">
                       <label  class="required col-md-3 control-label">{{_("Industry")}}</label>
                         <div class="col-md-9">
                            <select class="form-control" ng-model="lead.industry">
                            <option value="">--None--</option><option value="Agriculture">Agriculture</option><option value="Apparel">Apparel</option><option value="Banking">Banking</option><option value="Biotechnology">Biotechnology</option><option value="Chemicals">Chemicals</option><option value="Communications">Communications</option><option value="Construction">Construction</option><option value="Consulting">Consulting</option><option value="Education">Education</option><option value="Electronics">Electronics</option><option value="Energy">Energy</option><option value="Engineering">Engineering</option><option value="Entertainment">Entertainment</option><option value="Environmental">Environmental</option><option value="Finance">Finance</option><option value="Food &amp; Beverage">Food &amp; Beverage</option><option value="Government">Government</option><option value="Healthcare">Healthcare</option><option value="Hospitality">Hospitality</option><option value="Insurance">Insurance</option><option value="Machinery">Machinery</option><option value="Manufacturing">Manufacturing</option><option value="Media">Media</option><option value="Not For Profit">Not For Profit</option><option value="Recreation">Recreation</option><option value="Retail">Retail</option><option value="Shipping">Shipping</option><option value="Technology">Technology</option><option value="Telecommunications">Telecommunications</option><option value="Transportation">Transportation</option><option value="Utilities">Utilities</option><option value="Other">Other</option>>
                          </select>
                         </div>
                    </div>
                    <div class="form-group">
                        <label  class="required col-md-3 control-label">{{_("Source")}}</label>

                        <div class="col-md-9">
                          <select class="form-control" ng-model="lead.source" >
                          <option value="">--None--</option>
                          <option value="ioGrow Live">ioGrow Live</option>
                          <option value="Social Media">Social Media</option>
                          <option value="Web Source">Web Site</option>
                          <option value="Phone Inquiry">Phone Inquiry</option>
                          <option value="Partner Referral">Partner Referral</option>
                          <option value="Purchased List">Purchased List</option>
                          <option value="Other">Other</option>
                          </select>

                        </div>
                    </div>
                    <div class="form-group">
                        <label  class=" col-md-3 control-label">{{_("Status")}} </label>
                          <div class="col-md-9">
                             <select class="form-control" ng-model="status_selected" ng-options="leadstat.status for leadstat in leadstatuses |   orderBy: 'status':true" >
                              <option value=""><%=lead.status%> </option>
                            <!--option value=""><%=stage_selected.name%></option-->
                             </select>
                          </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                    <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Close")}}</button>
                    <button  type="submit" ng-click="updatelead(lead)" class="btn btn-primary addContactNow">{{_("Save")}} </button>
            </div>
        </div>
    </div>
</div>
</div>



<!--Event Modal -->
          <div id="newEventModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
              <h3 id="myModalLabel" class="modal-title">{{_("New Event")}}</h3>
            </div>
            <div class="modal-body">
                     <div class="controls controls-row">
                            <form id="addTask"  class="ng-pristine ng-valid">
                                                  <input class="form-control" autofocus type="text" placeholder="{{_('Add a new event')}}" id="taskTitle" ng-model="ioevent.title">
                                                  <p><strong>{{_("When?")}}</strong></p>
                                                <div class="row">
                                                  <div class="col-md-6">
                                                    <p> <strong>{{_("Starts")}}</strong>: <%=ioevent.starts_at | date:'MMMM dd, yyyy, HH:mm'%></p>
                                                        <datetimepicker data-ng-model="ioevent.starts_at"
                                                    data-datetimepicker-config="{ startView:'day', minView:'minute' }" />
                                                  </div>
                                                  <div class="col-md-6">
                                                  <p><strong>{{_("Ends")}}</strong>: <%=ioevent.ends_at | date:'MMMM dd, yyyy, HH:mm'%></p>
                                                        <datetimepicker data-ng-model="ioevent.ends_at"
                                                    data-datetimepicker-config="{ startView:'day', minView:'minute' }" />
                                                  </div>
                                                </div>
                                                    <input class="form-control" autofocus="" type="text" placeholder="{{_('Where?')}}" id="taskTitle" ng-model="ioevent.where">
                                                </div>
                                                </form>
            </div>
            <div class="modal-footer">
              <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

               <input ng-hide="isLoading" type="submit" class="btn green" value="{{_('Add this event')}}" ng-click="addEvent(ioevent)">
                <input ng-show="isLoading" type="submit" class="btn green" value="{{_('Loading...')}}" disabled>


            </div>
            </div>
            </div>
          </div>

                        <!-- Modal -->
          <div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
              <h3 id="myModalLabel" class="modal-title">{{_("Add a new Task")}}</h3>
            </div>
            <div class="modal-body pickerin">
                     <div class="controls controls-row">
                                          <form id="addTask"  class="ng-pristine ng-valid">
                                                  <input class="form-control" autofocus type="text" placeholder="Add a new task" id="taskTitle" ng-model="task.title">

                                                  <p><strong>{{_("When's it due?")}}</strong></p>
                                                  <center>
                                                    <datetimepicker data-ng-model="task.due"
                                                    data-datetimepicker-config="{ startView:'day', minView:'day' }" />
                                                  </center>
                  </div>
            </div>
            <div class="modal-footer">
              <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

               <input ng-hide="isLoading" ng-click="addTask(task)" type="submit" class="btn green" value="Add this task">
                <!--input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled-->

            </form>
            </div>
            </div>
            </div>
          </div>
          <div id="newDocument" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
              <h3 id="myModalLabel" class="modal-title">{{_("Create a new")}} <%=mimeType%></h3>
            </div>
            <div class="modal-body">
                     <div class="controls controls-row">
                                          <form id="addTask"  class="ng-pristine ng-valid">
                                                  <input class="form-control" autofocus type="text" placeholder="Enter a new <%=mimeType%> name" id="taskTitle" ng-model="newdocument.title" required>


                     </div>
            </div>
            <div class="modal-footer">
              <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>

               <input ng-hide="isLoading" ng-click="createDocument(newdocument)" type="submit" class="btn green" value="Create this document">
                <!--input ng-show="isLoading" type="submit" class="btn green" value="Loading..." disabled-->

            </form>
            </div>
            </div>
            </div>
          </div>

<!--Event Modal -->
          <div id="newEventModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
              <h3 id="myModalLabel" class="modal-title">{{_("New Event")}}</h3>
            </div>
            <div class="modal-body">
                     <div class="controls controls-row">
                            <form id="addTask"  class="ng-pristine ng-valid">
                                                  <input class="form-control" autofocus type="text" placeholder="{{_('Add a new event')}}" id="taskTitle" ng-model="ioevent.title">
                                                  <p><strong>{{_("When?")}}</strong></p>
                                                <div class="row">
                                                  <div class="col-md-6">
                                                    <p> <strong>{{_("Starts")}}</strong>: <%=ioevent.starts_at | date:'MMMM dd, yyyy, HH:mm'%></p>
                                                        <datetimepicker data-ng-model="ioevent.starts_at"
                                                    data-datetimepicker-config="{ startView:'day', minView:'minute' }" />
                                                  </div>
                                                  <div class="col-md-6">
                                                  <p><strong>{{_("Ends")}}</strong>: <%=ioevent.ends_at | date:'MMMM dd, yyyy, HH:mm'%></p>
                                                        <datetimepicker data-ng-model="ioevent.ends_at"
                                                    data-datetimepicker-config="{ startView:'day', minView:'minute' }" />
                                                  </div>
                                                </div>
                                                    <input class="form-control" autofocus="" type="text" placeholder="{{_('Where?')}}" id="taskTitle" ng-model="ioevent.where">
                            </form>
                                                </div>


            </div>
            <div class="modal-footer">
              <button class="btn" data-dismiss="modal" aria-hidden="true">{{_("Cancel")}}</button>

               <input ng-hide="isLoading" ng-click="addEvent(ioevent)" type="submit" class="btn green" value="{{_('Add this event')}}">
                <!--input ng-show="isLoading" type="submit" class="btn green" value="{{_('Loading...')}}" disabled-->

           
            </div>
            </div>
            </div>
          </div>

<script type="text/javascript">
  $(function() {
    $('#datetimepicker2').datetimepicker({
      language: 'fr',
      pickTime: false
    });
  });
        var originalLeave = $.fn.popover.Constructor.prototype.leave;
      $.fn.popover.Constructor.prototype.leave = function(obj){
        var self = obj instanceof this.constructor ?
          obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data('bs.' + this.type)
        var container, timeout;

        originalLeave.call(this, obj);

        if(obj.currentTarget) {
          container = $(obj.currentTarget).siblings('.popover')
          timeout = self.timeout;
          container.one('mouseenter', function(){
            //We entered the actual popover – call off the dogs
            clearTimeout(timeout);
            //Let's monitor popover content instead
            container.one('mouseleave', function(){
              $.fn.popover.Constructor.prototype.leave.call(self, self);
            });
          })
        }
      };
 /* $('body').popover({ selector: '[data-popover]', trigger: 'click hover', placement: 'left', delay: {show: 50, hide: 400}});*/
          $('#assigeeList').slimScroll({
              height: '200px'
          });
  $('.waterfall').waterfall({
              colMinWidth: 210,
              defaultContainerWidth: 840,
              autoresize: true
          });
  $('.waterfall2').waterfall({
              colMinWidth: 210,
              defaultContainerWidth: 840,
              autoresize: true
          });

</script>
