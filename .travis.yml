sudo: required
dist: trusty
language: python
node_js:
- '4.4'
python:
- '2.7'
addons:
  apt:
    packages:
    - wget
    - npm
before_install:
- openssl aes-256-cbc -K $encrypted_e45c924b1dd0_key -iv $encrypted_e45c924b1dd0_iv
  -in crm/config/client_secret.json.travis.enc -out client-secret.json -d
- sudo pip install invoke
- pip install requests
install:
- invoke download
- invoke install
before_script:
- invoke build
script:
- invoke test
deploy:
  provider: gae
  keyfile: client-secret.json
  project: iogrowcrm
  skip_cleanup: true
  on: production
